@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg: #fff;
    --fg: #0a0a0a;
    --muted: #888;
    --faint: #e8e8e8;
    --subtle: #f5f5f5;
    --accent: #de3f74;
  }

  [data-theme="dark"] {
    --bg: #1c1f22;
    --fg: #f0f0f0;
    --muted: #656e84;
    --faint: #27313a;
    --subtle: #111;
    --accent: #eaff00;
  }

  html,
  body {
    min-height: 100vh;
    margin: 0;
    padding: 0;
  }

  body {
    @apply bg-bg text-fg text-sm leading-relaxed;
    font-family: 'Geist Sans', sans-serif;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(128, 128, 128, 0.2);
    @apply rounded-full transition-colors cursor-pointer;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(128, 128, 128, 0.4);
  }

  /* Support for Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(128, 128, 128, 0.2) transparent;
  }

  * {
    box-sizing: border-box;
  }
}

@layer components {
  .shimmer {
    @apply bg-white/5 relative overflow-hidden rounded;
  }

  .shimmer::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-shimmer;
  }

  .section-title {
    @apply text-2xs font-medium uppercase tracking-widest text-muted mb-3;
  }

  .tech-badge {
    @apply inline-flex items-center gap-1 px-1.5 py-0.5 text-2xs font-mono uppercase tracking-wide border border-faint rounded bg-subtle text-muted;
  }

  .signal-badge {
    @apply bg-accent/10 border-accent/30 text-fg;
  }

  .confidence-low {
    @apply opacity-60;
  }

  /* Tech Grid - responsive 2-column layout */
  .tech-container {
    container-type: inline-size;
    container-name: tech;
    overflow-x: hidden;
    overflow-y: hidden;
    width: 100%;
  }

  .tech-grid {
    display: flex;
    flex-direction: column;
    width: 100%;
    overflow-x: hidden;
    overflow-y: hidden;
  }

  /* Default: single column, inline category, hide block category */
  .tech-item .category-inline {
    display: inline;
  }
  
  .tech-item .category-block {
    display: none;
  }

  /* Narrow screens: 2-column grid with category beneath name */
  @container tech (max-width: 340px) {
    .tech-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0;
    }

    .tech-grid > div {
      min-width: 0;
      overflow: hidden;
    }

    .tech-item {
      min-width: 0;
      max-width: 100%;
      overflow: hidden;
    }

    .tech-item .category-inline {
      display: none;
    }

    .tech-item .category-block {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  }
}

@keyframes blink {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}

.animate-blink {
  animation: blink 0.8s step-end infinite;
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-gutter-stable {
    scrollbar-gutter: stable;
  }
}